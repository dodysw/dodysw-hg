<!doctype html>
<html lang="en">
  <head>
  	<title>Configuration</title>
  	<style>
  		p {font: 12px verdana, arial, sans-serif;}
  	</style>
  	<script>
       window.addEventListener("load", function(){
  	        var el = document.forms[0].elements;
  	        if (widget.preferences["username"])
                el["username"].value = widget.preferences["username"];
            if (widget.preferences["passwd"])
                el["passwd"].value = widget.preferences["passwd"];
            
            document.forms[0].addEventListener("submit", function() {
                var el = document.forms[0].elements;
                widget.preferences["username"] = el["username"].value;
                widget.preferences["passwd"] = el["passwd"].value;
                opera.extension.postMessage("LOGIN");
                window.close();
            }, false);
            
        }, false);
  	    
  	</script>
  </head>
  <body>
    <form>
  	<p>Reddit Username<input type="text" name="username"><br/>
  	Password<input type="password" name="passwd"><br/>
  	<input type="submit" value="Save"/>
  	</p>
  	</form>
  </body>
</html>